<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>FarmerBase BP Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui, -apple-system, sans-serif;
  background:#f5f7fa;
  color:#222;
}
header{
  background:#1b5e20;
  color:#fff;
  padding:12px 16px;
}
header h1{
  margin:0;
  font-size:18px;
}
header small{
  font-size:12px;
  opacity:.9;
}
.container{
  max-width:920px;
  margin:auto;
  padding:20px;
}
.card{
  background:#fff;
  padding:20px;
  border-radius:8px;
  margin-bottom:20px;
}
.card h2, .card h3{
  margin-top:0;
  color:#1b5e20;
}
.actions{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  margin:20px 0;
}
.actions button{
  flex:1;
  min-width:220px;
  padding:14px;
  border:none;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
  background:#1b5e20;
  color:#fff;
}
.actions button.secondary{
  background:#455a64;
}
label{
  display:block;
  margin-top:10px;
  font-size:14px;
}
input{
  width:100%;
  padding:10px;
  margin-top:4px;
  font-size:14px;
  border-radius:6px;
  border:1px solid #ccc;
}
.status{
  padding:10px;
  border-radius:6px;
  margin-top:10px;
  font-size:14px;
}
.status.draft{background:#fff3cd}
.status.final{background:#d1e7dd}
.status.locked{background:#f8d7da}
footer{
  margin-top:40px;
  padding:14px;
  text-align:center;
  font-size:13px;
  color:#555;
  border-top:1px solid #ddd;
}
</style>
</head>

<body>

<header>
  <h1>FarmerBase BP Engine</h1>
  <small>‡§ï‡•É‡§∑‡§ï‡§Æ‡•à‡§§‡•ç‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ø‡§ï ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§Ø‡§®‡•ç‡§§‡•ç‡§∞</small>
</header>

<div class="container">

  <!-- INTRO -->
  <div class="card">
    <h2>‡§ï‡§ø‡§® FarmerBase BP Engine ?</h2>
    <p>
      FarmerBase BP Engine ‡§ï‡§ø‡§∏‡§æ‡§® ‡§§‡§•‡§æ ‡§∏‡§æ‡§®‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡•Ä‡§≤‡§æ‡§à
      ‡§Ü‡§´‡•à‡§Ç, ‡§∏‡§ú‡§ø‡§≤‡•à ‡§∞ ‡§ó‡§£‡§®‡§æ‡§Æ‡§æ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ø‡§ï ‡§Ø‡•ã‡§ú‡§®‡§æ
      ‡§¨‡§®‡§æ‡§â‡§® ‡§∏‡§π‡§Ø‡•ã‡§ó ‡§ó‡§∞‡•ç‡§®‡•á ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§π‡•ã‡•§
    </p>
  </div>

  <!-- ACTION BUTTONS -->
  <div class="actions">
    <button type="button" onclick="showCreate()">
      ‚ûï ‡§®‡§Ø‡§æ‡§Å ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§∏‡•Å‡§∞‡•Å
    </button>
    <button type="button" class="secondary" onclick="continueProposal()">
      ‚ñ∂Ô∏è ‡§Ö‡§ò‡§ø‡§≤‡•ç‡§≤‡•ã ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ Continue
    </button>
    <button type="button" class="secondary" onclick="openTools()">
      üìÑ Letters / PDF Tools
    </button>
  </div>

  <!-- CREATE BOX -->
  <div class="card" id="createBox" style="display:none">
    <h3>‡§®‡§Ø‡§æ‡§Å ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</h3>

    <label>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ</label>
    <input id="bizName" placeholder="‡§ú‡§∏‡•ç‡§§‡•à: ‡§®‡§Æ‡•Ç‡§®‡§æ ‡§ï‡•É‡§∑‡§ø ‡§´‡§æ‡§∞‡•ç‡§Æ">

    <label>‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ</label>
    <input id="projName" placeholder="‡§ú‡§∏‡•ç‡§§‡•à: ‡§¨‡§Ç‡§ó‡•Å‡§∞ ‡§™‡§æ‡§≤‡§® ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ">

    <label>‡§™‡•ç‡§∞‡•ã‡§™‡§æ‡§á‡§ü‡§∞ / ‡§™‡•ç‡§∞‡§§‡§ø‡§®‡§ø‡§ß‡§ø‡§ï‡•ã ‡§®‡§æ‡§Æ</label>
    <input id="ownerName" placeholder="‡§®‡§æ‡§Æ">

    <button type="button" style="margin-top:14px" onclick="startProposal()">
      ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•å‡§Ç ‚Üí
    </button>
  </div>

  <!-- STATUS -->
  <div id="statusBox"></div>

</div>

<footer>
  FarmerBase BP Engine<br>
  Concept Development By <b>Prem Prasad Paudel</b><br>
  Kalika‚Äì5, Maneswara, Rasuwa
</footer>

<script>
/* ===== KEYS ===== */
const STATUS_KEY = "fb_proposal_status";
const META_KEY   = "fb_meta";

/* ===== INIT STATUS ===== */
if(!localStorage.getItem(STATUS_KEY)){
  localStorage.setItem(STATUS_KEY,"draft");
}

/* ===== RENDER STATUS ===== */
function renderStatus(){
  const st = localStorage.getItem(STATUS_KEY);
  let cls="draft", txt="Draft ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ‡§Æ‡§æ ‡§õ";

  if(st==="final"){ cls="final"; txt="Final ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ‡§Æ‡§æ ‡§õ"; }
  if(st==="locked"){ cls="locked"; txt="Locked (Edit ‡§ó‡§∞‡•ç‡§® ‡§Æ‡§ø‡§≤‡•ç‡§¶‡•à‡§®)"; }

  document.getElementById("statusBox").innerHTML = `
    <div class="status ${cls}">
      ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ‡§ï‡•ã ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ: <b>${txt}</b>
    </div>`;
}
renderStatus();

/* ===== SHOW CREATE (FIXED) ===== */
function showCreate(){
  const box = document.getElementById("createBox");
  box.style.display = "block";
  box.scrollIntoView({ behavior: "smooth" });
}

/* ===== START PROPOSAL ===== */
function startProposal(){
  if(!bizName.value || !projName.value){
    alert("‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§∞ ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§õ");
    return;
  }

  localStorage.setItem(META_KEY, JSON.stringify({
    business: bizName.value,
    project : projName.value,
    owner   : ownerName.value
  }));

  localStorage.setItem(STATUS_KEY,"draft");
  location.href = "short-info.html";
}

/* ===== CONTINUE ===== */
function continueProposal(){
  if(!localStorage.getItem(META_KEY)){
    alert("‡§Ö‡§ò‡§ø‡§≤‡•ç‡§≤‡•ã ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§≠‡•á‡§ü‡§ø‡§è‡§®");
    return;
  }
  location.href = "short-info.html";
}

/* ===== TOOLS ===== */
function openTools(){
  location.href = "create-letter.html";
}
</script>

</body>
</html>
