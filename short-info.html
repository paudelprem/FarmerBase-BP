<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ | FarmerBase BP Engine</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui;
  background:#f6f7f9;
  color:#222
}
:root{--w:980px;--g:#1b5e20;--b:#ddd}

/* HEADER */
.header{
  position:sticky;
  top:0;
  z-index:100;
  background:#fff;
  border-bottom:1px solid var(--b)
}
.header-inner{
  max-width:var(--w);
  margin:auto;
  padding:10px 14px;
}
.header h1{
  margin:0;
  font-size:16px;
}
.header .sub{
  font-size:12px;
  color:#555
}

/* NAV */
.nav-bar{
  max-width:var(--w);
  margin:8px auto;
  padding:0 14px;
  display:flex;
  justify-content:space-between
}
.nav-btn{
  text-decoration:none;
  font-size:13px;
  padding:6px 14px;
  border-radius:20px;
  border:1px solid #ccc;
  background:#fafafa;
  color:#222
}
.nav-btn.primary{
  background:var(--g);
  color:#fff;
  border-color:var(--g)
}

/* MAIN */
.main{
  max-width:var(--w);
  margin:10px auto 20px;
  padding:0 14px;
  position:relative;
  z-index:2
}
.card{
  background:#fff;
  border:1px solid var(--b);
  border-radius:8px;
  margin-bottom:16px
}
.card h3{
  margin:0;
  padding:10px 12px;
  background:#f3f5f7;
  border-bottom:1px solid var(--b);
  font-size:14px
}
.card .body{
  padding:12px;
  font-size:13px
}

label{display:block;margin-top:8px}
input,textarea{
  width:100%;
  padding:6px;
  margin-top:4px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:13px
}

.small{font-size:11px;color:#555}

/* PRINT */
@media print{
  .nav-bar{display:none}
  body{background:#fff}
}
</style>
</head>

<body>

<!-- HEADER (AUTO INJECT) -->
<div class="header">
  <div class="header-inner">
    <h1 id="headerBusiness">‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ï‡•ã ‡§®‡§æ‡§Æ</h1>
    <div class="sub" id="headerProject">‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ</div>
  </div>
</div>

<!-- TOP NAV -->
<div class="nav-bar">
  <span></span>
  <a href="existing-status.html" class="nav-btn primary">
    ‚û°Ô∏è ‡§Ö‡§ó‡§æ‡§°‡§ø ‡§ú‡§æ‡§®‡•Å‡§π‡•ã‡§∏‡•ç
  </a>
</div>

<div class="main">

<!-- BASIC INFO -->
<div class="card">
  <h3>üè¢ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø</h3>
  <div class="body">

    <label>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ</label>
    <input id="businessName" placeholder="‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡§∂‡•ç‡§∞‡•Ä ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§´‡§∞‡•ç‡§Æ">

    <label>‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ</label>
    <input id="projectName"
      placeholder="‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡•´‡•¶ ‡§µ‡§ü‡§æ ‡§¨‡§æ‡§ñ‡•ç‡§∞‡§æ ‡§™‡§æ‡§≤‡§® ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ">

    <label>‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§ ‡§™‡§∞‡§ø‡§ö‡§Ø</label>
    <textarea id="intro" rows="3"
      placeholder="‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§∞ ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§õ‡•ã‡§ü‡•ã ‡§™‡§∞‡§ø‡§ö‡§Ø..."></textarea>

  </div>
</div>

</div>

<!-- BOTTOM NAV -->
<div class="nav-bar">
  <span></span>
  <a href="existing-status.html" class="nav-btn primary">
    ‚û°Ô∏è existing-status
  </a>
</div>

<script>
/* ======================
   CONTEXT
====================== */
let B = JSON.parse(localStorage.getItem("fb_businesses") || "null");
if(!B){
  B = { activeId:"b1", list:{} };
  localStorage.setItem("fb_businesses", JSON.stringify(B));
}
const BID = B.activeId;

/* ======================
   DATA STORE
====================== */
const KEY = "fb_short_info_" + BID;
let data = JSON.parse(localStorage.getItem(KEY) || "null");
if(!data){
  data = {
    businessName:"",
    projectName:"",
    intro:""
  };
}

/* ======================
   ELEMENTS
====================== */
const businessName = document.getElementById("businessName");
const projectName  = document.getElementById("projectName");
const intro        = document.getElementById("intro");

const headerBusiness = document.getElementById("headerBusiness");
const headerProject  = document.getElementById("headerProject");

/* ======================
   LOAD
====================== */
businessName.value = data.businessName || "";
projectName.value  = data.projectName  || "";
intro.value        = data.intro        || "";

updateHeader();

/* ======================
   SAVE (AUTO)
====================== */
function save(){
  data.businessName = businessName.value;
  data.projectName  = projectName.value;
  data.intro        = intro.value;

  localStorage.setItem(KEY, JSON.stringify(data));
  updateHeader();
}

[businessName, projectName, intro].forEach(el=>{
  el.addEventListener("input", save);
});

/* ======================
   HEADER AUTO INJECT
====================== */
function updateHeader(){
  headerBusiness.textContent =
    data.businessName || "‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ï‡•ã ‡§®‡§æ‡§Æ";
  headerProject.textContent =
    data.projectName || "‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ";

  /* Print title auto inject */
  document.title =
    (data.businessName || "Business") +
    (data.projectName ? " | " + data.projectName : "");
}
</script>

</body>
</html>
