<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>Short Info ‚Äì FarmerBase BP Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:system-ui;background:#f5f7fa}
.container{max-width:900px;margin:auto;padding:20px}
.card{background:#fff;padding:20px;border-radius:8px}
label{display:block;margin-top:10px;font-weight:600}
input,textarea,select{
  width:100%;padding:8px;margin-top:4px;
  border:1px solid #ccc;border-radius:6px;
  font-family:inherit
}
small{color:#666}

/* ===== GLOBAL HEADER ===== */
.g-header{
  display:flex;align-items:center;gap:10px;
  padding:10px;background:#1b5e20;color:#fff
}
.g-header button{
  background:none;border:none;color:#fff;font-size:18px
}
.g-title{flex:1;text-align:center}

/* ===== GLOBAL FOOTER ===== */
.g-footer{
  display:flex;justify-content:space-between;
  padding:10px;border-top:1px solid #ccc
}
.g-footer button{
  padding:8px 14px;border-radius:20px;
  border:none;background:#1b5e20;color:#fff
}
.g-header button:disabled,.g-footer button:disabled{
  opacity:.4;cursor:not-allowed
}
</style>
</head>

<body>

<!-- ===== GLOBAL HEADER ===== -->
<header class="g-header">
  <button id="prevTop" onclick="goPrev()">‚¨ÖÔ∏è</button>
  <div class="g-title">
    <div id="bizHdr"></div>
    <small id="projHdr"></small>
  </div>
  <button id="nextTop" onclick="goNext()">‚û°Ô∏è</button>
</header>

<div class="container">
<div class="card">

<h2>‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä (Short Info)</h2>

<!-- ===== BASIC IDENTITY ===== -->
<label>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ *</label>
<input id="business">

<label>‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ *</label>
<input id="project">

<label>‡§™‡•ç‡§∞‡•ã‡§™‡§æ‡§á‡§ü‡§∞ / ‡§™‡•ç‡§∞‡§§‡§ø‡§®‡§ø‡§ß‡§ø‡§ï‡•ã ‡§®‡§æ‡§Æ *</label>
<input id="owner">

<label>‡§∏‡§Æ‡•ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Æ‡•ç‡§¨‡§∞ *</label>
<input id="contact">

<!-- ===== REGISTRATION ===== -->
<hr>

<label>‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ ‡§¶‡§∞‡•ç‡§§‡§æ ‡§≠‡§è‡§ï‡•ã ‡§õ?</label>
<select id="registered" onchange="toggleReg()">
  <option value="no">‡§õ‡•à‡§®</option>
  <option value="yes">‡§õ</option>
</select>

<div id="regBox" style="display:none">
  <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§Æ‡§ø‡§§‡§ø</label>
  <input type="date" id="regDate">

  <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§®‡§Ç</label>
  <input id="regNo">

  <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§≠‡§è‡§ï‡•ã ‡§®‡§ø‡§ï‡§æ‡§Ø</label>
  <input id="regOffice">

  <label>PAN ‡§®‡§Ç</label>
  <input id="panNo">
</div>

<!-- ===== AFFILIATION ===== -->
<hr>

<label>‡§Ö‡§®‡•ç‡§Ø ‡§∏‡§Ç‡§ò‚Äì‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§∏‡§Å‡§ó ‡§Ü‡§µ‡§¶‡•ç‡§ß‡§§‡§æ (‡§õ ‡§≠‡§®‡•á)</label>
<textarea id="affiliation" rows="3"
placeholder="‡§ú‡§∏‡•ç‡§§‡•à: ‡§∏‡§π‡§ï‡§æ‡§∞‡•Ä, ‡§∏‡§Æ‡•Ç‡§π, ‡§∏‡§Ç‡§ò ‡§Ü‡§¶‡§ø"></textarea>

<!-- ===== ACTION ===== -->
<button style="margin-top:16px" onclick="saveInfo()">üíæ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>

<small>* ‡§ö‡§ø‡§®‡•ç‡§π‡§ø‡§§ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§õ‡§®‡•ç</small>

</div>
</div>

<!-- ===== GLOBAL FOOTER ===== -->
<footer class="g-footer">
  <button id="prevBottom" onclick="goPrev()">‚¨ÖÔ∏è ‡§Ö‡§ò‡§ø‡§≤‡•ç‡§≤‡•ã</button>
  <button id="nextBottom" onclick="goNext()">‡§Ö‡§∞‡•ç‡§ï‡•ã ‚û°Ô∏è</button>
</footer>

<script>
/* ================= GLOBAL NAV ================= */
const flow=[
"index.html","short-info.html","existing-status.html",
"business-detail.html","production.html","expenses.html",
"capital-source.html","income.html","profit-loss.html",
"executive-summary.html","cover.html"
];
const cur=location.pathname.split("/").pop();
const idx=flow.indexOf(cur);
function goPrev(){ if(idx>0) location.href=flow[idx-1]; }
function goNext(){ if(idx<flow.length-1) location.href=flow[idx+1]; }
if(idx<=0){prevTop.disabled=prevBottom.disabled=true;}
if(idx>=flow.length-1){nextTop.disabled=nextBottom.disabled=true;}

/* ================= DATA ================= */
const KEY="fb_meta";
const data = JSON.parse(localStorage.getItem(KEY)) || {};

business.value = data.business || "";
project.value  = data.project  || "";
owner.value    = data.owner    || "";
contact.value  = data.contact  || "";

registered.value = data.registered || "no";
regDate.value    = data.regDate || "";
regNo.value      = data.regNo || "";
regOffice.value  = data.regOffice || "";
panNo.value      = data.panNo || "";
affiliation.value= data.affiliation || "";

toggleReg();

/* ===== HEADER INJECT ===== */
bizHdr.textContent = data.business || "‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø";
projHdr.textContent= data.project  || "‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ";

/* ================= FUNCTIONS ================= */
function toggleReg(){
  regBox.style.display = registered.value==="yes" ? "block" : "none";
}

function saveInfo(){
  if(!business.value || !project.value || !owner.value || !contact.value){
    alert("‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§™‡•Ç‡§∞‡§æ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç");
    return;
  }
  localStorage.setItem(KEY,JSON.stringify({
    business:business.value,
    project:project.value,
    owner:owner.value,
    contact:contact.value,
    registered:registered.value,
    regDate:regDate.value,
    regNo:regNo.value,
    regOffice:regOffice.value,
    panNo:panNo.value,
    affiliation:affiliation.value
  }));
  alert("Short Info ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§≠‡§Ø‡•ã");
}
</script>

</body>
</html>
