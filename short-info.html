<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>Short Info ‚Äì Proposal Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:system-ui;background:#f5f7fa}
header{
  position:sticky;top:0;z-index:1000;
  background:#1b5e20;color:#fff;
  padding:8px 16px;
  display:flex;justify-content:space-between;align-items:center
}
.container{max-width:1200px;margin:auto;padding:16px}
.card{background:#fff;padding:16px;border-radius:8px;margin-bottom:16px}
h2{margin:0 0 10px;color:#1b5e20}
.small{font-size:13px;color:#555}

.grid-2{
  display:grid;
  grid-template-columns:1.3fr 1fr;
  gap:16px;
}
@media(max-width:768px){
  .grid-2{grid-template-columns:1fr}
}

table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ddd;padding:6px 8px}
thead{background:#f1f8f4}

.status-badge{
  padding:2px 8px;border-radius:12px;
  font-size:12px;white-space:nowrap
}
.ok{background:#2e7d32;color:#fff}
.mid{background:#f9a825;color:#000}
.no{background:#9e9e9e;color:#fff}

input{
  width:100%;padding:8px;
  border:1px solid #ccc;border-radius:6px
}
button{
  padding:6px 12px;border:none;border-radius:6px;
  background:#1b5e20;color:#fff;cursor:pointer
}
button:active{transform:scale(.98)}
</style>
</head>

<body>

<header>
  <div>FarmerBase BP Engine</div>
  <div id="hdrBiz"></div>
</header>

<div class="container">
<div class="grid-2">

<!-- LEFT -->
<div>

<div class="card">
<h2>üìë ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ</h2>
<table>
<thead>
<tr>
<th>‡§ï‡•ç‡§∞.</th><th>‡§ñ‡§£‡•ç‡§°</th><th>‡§™‡§æ‡§®‡§æ</th><th>Status</th><th></th>
</tr>
</thead>
<tbody>

<tr>
<td>1</td><td>Existing Status</td><td>1</td>
<td id="st-existing"></td>
<td><button type="button" onclick="go('existing-status.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>2</td><td>Business Detail</td><td>2</td>
<td id="st-business"></td>
<td><button type="button" onclick="go('business-detail.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>3</td><td>Production</td><td>1</td>
<td id="st-production"></td>
<td><button type="button" onclick="go('production.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>4</td><td>Expenses</td><td>2</td>
<td id="st-expenses"></td>
<td><button type="button" onclick="go('expenses.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>5</td><td>Capital Source</td><td>1</td>
<td id="st-capital"></td>
<td><button type="button" onclick="go('capital-source.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>6</td><td>Income</td><td>1</td>
<td id="st-income"></td>
<td><button type="button" onclick="go('income.html')">Go ‚Üí</button></td>
</tr>

<tr>
<td>7</td><td>Profit & Loss</td><td>2</td>
<td id="st-profit"></td>
<td><button type="button" onclick="go('profit-loss.html')">Go ‚Üí</button></td>
</tr>

</tbody>
</table>
</div>

</div>

<!-- RIGHT -->
<div>

<div class="card">
<h2>üè∑Ô∏è ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ / ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£</h2>

<input id="businessName" placeholder="‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ / ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ï‡•ã ‡§®‡§æ‡§Æ"><br><br>
<input id="projectName" placeholder="‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ"><br><br>

<input id="regBody" placeholder="‡§¶‡§∞‡•ç‡§§‡§æ ‡§≠‡§è‡§ï‡•ã ‡§®‡§ø‡§ï‡§æ‡§Ø (‡§™‡§æ‡§≤‡§ø‡§ï‡§æ / ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó / ‡§ï‡§Æ‡•ç‡§™‡§®‡•Ä)"><br><br>
<input id="regNo" placeholder="‡§¶‡§∞‡•ç‡§§‡§æ ‡§®‡§Ç"><br><br>
<input id="panNo" placeholder="PAN ‡§®‡§Ç (‡§Ø‡§¶‡§ø ‡§õ)"><br><br>

<input id="affiliation" placeholder="‡§Ö‡§®‡•ç‡§Ø ‡§Ü‡§µ‡§¶‡•ç‡§ß‡§§‡§æ (‡§Ø‡§¶‡§ø ‡§õ)"><br><br>

<input id="contactName" placeholder="‡§∏‡§Æ‡•ç‡§™‡§∞‡•ç‡§ï ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§®‡§æ‡§Æ"><br><br>
<input id="contactPhone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç"><br><br>

<button type="button" onclick="saveInfo()">üíæ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§</button>
</div>

</div>

</div>
</div>

<script>
function go(p){location.href=p}

/* SAVE */
function saveInfo(){
  const data={
    businessName:businessName.value.trim(),
    projectName:projectName.value.trim(),
    regBody:regBody.value.trim(),
    regNo:regNo.value.trim(),
    panNo:panNo.value.trim(),
    affiliation:affiliation.value.trim(),
    contactName:contactName.value.trim(),
    contactPhone:contactPhone.value.trim()
  };
  localStorage.setItem("fb_business",JSON.stringify(data));
  location.reload();
}

/* HEADER */
const biz=JSON.parse(localStorage.getItem("fb_business")||"{}");
hdrBiz.textContent=biz.projectName||biz.businessName||"";

/* STATUS */
function st(key){
  const d=localStorage.getItem(key);
  if(!d) return <span class="status-badge no">Not started</span>;
  try{
    const o=JSON.parse(d);
    if(Object.keys(o).length===0) return <span class="status-badge mid">In progress</span>;
    return <span class="status-badge ok">Completed</span>;
  }catch{return `<span class="status-badge mid">In progress</span>`}
}

st_existing.innerHTML=st("fb_existing_status");
st_business.innerHTML=st("fb_business_detail");
st_production.innerHTML=st("fb_production");
st_expenses.innerHTML=st("fb_expenses_final");
st_capital.innerHTML=st("fb_capital_source");
st_income.innerHTML=st("fb_income");
st_profit.innerHTML=st("fb_profit_loss");

/* LOAD FORM */
["businessName","projectName","regBody","regNo","panNo","affiliation","contactName","contactPhone"]
.forEach(id=>{
  if(biz[id]) document.getElementById(id).value=biz[id];
});
</script>

</body>
</html>
