<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§ ‡§™‡§∞‡§ø‡§ö‡§Ø | FarmerBase BP Engine</title>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:system-ui;background:#f6f7f9;color:#222}
:root{--w:980px;--g:#1b5e20;--b:#ddd}

/* ===== NAV ===== */
.nav-bar{
  max-width:var(--w);
  margin:8px auto;
  padding:8px 14px;
  display:flex;
  justify-content:space-between;
}
.nav-btn{
  text-decoration:none;
  font-size:13px;
  padding:6px 14px;
  border-radius:20px;
  border:1px solid #ccc;
  background:#fafafa;
  color:#222;
}
.nav-btn.primary{
  background:var(--g);
  color:#fff;
  border-color:var(--g);
}
.top-nav{position:sticky;top:0;background:#f6f7f9;z-index:9}
.bottom-nav{position:sticky;bottom:0;background:#f6f7f9;z-index:9}

/* ===== Layout ===== */
.main{max-width:var(--w);margin:10px auto 20px;padding:0 14px}
.card{background:#fff;border:1px solid var(--b);border-radius:8px;margin-bottom:16px}
.card h3{
  margin:0;padding:10px 12px;
  background:#f3f5f7;border-bottom:1px solid var(--b);font-size:14px
}
.card .body{padding:12px;font-size:13px}

.row{display:grid;grid-template-columns:repeat(12,1fr);gap:8px}
.col-3{grid-column:span 3}
.col-4{grid-column:span 4}
.col-6{grid-column:span 6}
.col-12{grid-column:span 12}

input,select,textarea{
  width:100%;
  padding:6px;
  margin:4px 0;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:13px;
}
textarea{resize:vertical}

small{color:#666;font-size:12px}

.btn{
  padding:6px 10px;
  border:1px solid #ccc;
  border-radius:6px;
  background:#fafafa;
  cursor:pointer;
}
.btn.primary{background:var(--g);color:#fff;border-color:var(--g)}
</style>
</head>

<body>

<!-- üîº TOP NAV -->
<div class="nav-bar top-nav">
  <a href="index.html" class="nav-btn">‚¨ÖÔ∏è Home</a>
  <a href="existing-status.html" class="nav-btn primary">‚û°Ô∏è ‡§Ö‡§ó‡§æ‡§°‡§ø</a>
</div>

<div class="main">

<!-- BASIC BUSINESS -->
<div class="card">
  <h3>üìå ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø</h3>
  <div class="body">
    <div class="row">
      <div class="col-6">
        <label>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø / ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ï‡•ã ‡§®‡§æ‡§Æ *</label>
        <input id="bizName">
      </div>
      <div class="col-6">
        <label>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡§ï‡•ã ‡§™‡•ç‡§∞‡§ï‡•É‡§§‡§ø</label>
        <select id="bizNature">
          <option>‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§</option>
          <option>‡§∏‡§æ‡§ù‡•á‡§¶‡§æ‡§∞‡•Ä</option>
          <option>‡§∏‡§π‡§ï‡§æ‡§∞‡•Ä</option>
          <option>‡§ï‡§Æ‡•ç‡§™‡§®‡•Ä</option>
          <option>‡§∏‡§Æ‡•Ç‡§π</option>
        </select>
      </div>

      <div class="col-12">
        <label>‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ó‡§§ ‡§™‡§∞‡§ø‡§ö‡§Ø (‡§∏‡§Ç‡§ï‡•ç‡§∑‡•á‡§™)</label>
        <textarea id="bizIntro" rows="3"
          placeholder="‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø/‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§ï‡•ã ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø, ‡§™‡•É‡§∑‡•ç‡§†‡§≠‡•Ç‡§Æ‡§ø, ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§∏‡§Ç‡§ï‡•ç‡§∑‡•á‡§™‡§Æ‡§æ..."></textarea>
      </div>
    </div>
  </div>
</div>

<!-- ADDRESS -->
<div class="card">
  <h3>üìç ‡§†‡•á‡§ó‡§æ‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£</h3>
  <div class="body">
    <div class="row">
      <div class="col-3"><label>‡§™‡•ç‡§∞‡§¶‡•á‡§∂</label><input id="province"></div>
      <div class="col-3"><label>‡§ú‡§ø‡§≤‡•ç‡§≤‡§æ</label><input id="district"></div>
      <div class="col-3"><label>‡§®.‡§™‡§æ./‡§ó‡§æ.‡§™‡§æ.</label><input id="municipality"></div>
      <div class="col-3"><label>‡§µ‡§°‡§æ ‡§®‡§Ç.</label><input id="ward"></div>
      <div class="col-12">
        <label>‡§ü‡•ã‡§≤ / ‡§¨‡§∏‡•ç‡§§‡•Ä</label>
        <input id="locality">
      </div>
    </div>
  </div>
</div>

<!-- REGISTRATION -->
<div class="card">
  <h3>üè¢ ‡§¶‡§∞‡•ç‡§§‡§æ ‡§§‡§•‡§æ ‡§ï‡§æ‡§®‡•Å‡§®‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£</h3>
  <div class="body">
    <div class="row">
      <div class="col-6">
        <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§≠‡§è‡§ï‡•ã ‡§®‡§ø‡§ï‡§æ‡§Ø</label>
        <input id="regOffice" placeholder="‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§≤‡§Ø, ‡§∏‡§π‡§ï‡§æ‡§∞‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§Ü‡§¶‡§ø">
      </div>
      <div class="col-3">
        <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§Æ‡§ø‡§§‡§ø</label>
        <input id="regDate" type="date">
      </div>
      <div class="col-3">
        <label>‡§¶‡§∞‡•ç‡§§‡§æ ‡§®‡§Ç.</label>
        <input id="regNo">
      </div>

      <div class="col-6">
        <label>PAN / VAT ‡§®‡§Ç.</label>
        <input id="panNo">
      </div>
      <div class="col-6">
        <label>‡§Ö‡§®‡•ç‡§Ø ‡§∏‡§Ç‡§ò‚Äì‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ‡§∏‡§Å‡§ó ‡§Ü‡§¨‡§¶‡•ç‡§ß‡§§‡§æ</label>
        <input id="affiliation">
      </div>
    </div>
  </div>
</div>

<!-- CONTACT -->
<div class="card">
  <h3>üë§ ‡§∏‡§Æ‡•ç‡§™‡§∞‡•ç‡§ï ‡§µ‡§ø‡§µ‡§∞‡§£</h3>
  <div class="body">
    <div class="row">
      <div class="col-6">
        <label>‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø / ‡§∏‡§û‡•ç‡§ö‡§æ‡§≤‡§ï</label>
        <input id="ownerName">
      </div>
      <div class="col-6">
        <label>‡§∏‡§Æ‡•ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç.</label>
        <input id="phone">
      </div>
    </div>
  </div>
</div>

</div>

<!-- üîΩ BOTTOM NAV -->
<div class="nav-bar bottom-nav">
  <a href="index.html" class="nav-btn">‚¨ÖÔ∏è Home</a>
  <a href="existing-status.html" class="nav-btn primary">‚û°Ô∏è ‡§Ö‡§ó‡§æ‡§°‡§ø</a>
</div>

<script>
/* ======================
   AUTO SAVE (Business-wise)
====================== */
const B = JSON.parse(localStorage.getItem("fb_businesses")||"{}");
const BID = B.activeId || "b1";
const KEY = "fb_short_info_" + BID;

function collect(){
  return {
    name: bizName.value,
    nature: bizNature.value,
    intro: bizIntro.value,
    address:{
      province:province.value,
      district:district.value,
      municipality:municipality.value,
      ward:ward.value,
      locality:locality.value
    },
    registration:{
      office:regOffice.value,
      date:regDate.value,
      number:regNo.value,
      pan:panNo.value,
      affiliation:affiliation.value
    },
    contact:{
      owner:ownerName.value,
      phone:phone.value
    }
  };
}

function save(){
  localStorage.setItem(KEY, JSON.stringify(collect()));
}

/* Bind */
document.querySelectorAll("input,select,textarea").forEach(e=>{
  e.addEventListener("input",save);
  e.addEventListener("change",save);
});

/* Load */
const raw=localStorage.getItem(KEY);
if(raw){
  const d=JSON.parse(raw);
  bizName.value=d.name||"";
  bizNature.value=d.nature||"";
  bizIntro.value=d.intro||"";
  province.value=d.address?.province||"";
  district.value=d.address?.district||"";
  municipality.value=d.address?.municipality||"";
  ward.value=d.address?.ward||"";
  locality.value=d.address?.locality||"";
  regOffice.value=d.registration?.office||"";
  regDate.value=d.registration?.date||"";
  regNo.value=d.registration?.number||"";
  panNo.value=d.registration?.pan||"";
  affiliation.value=d.registration?.affiliation||"";
  ownerName.value=d.contact?.owner||"";
  phone.value=d.contact?.phone||"";
}
</script>

</body>
</html>
